<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Kubernetes on 老柯的學習筆記</title>
    <link>https://blog.xxzk.me/tags/kubernetes/</link>
    <description>Recent content in Kubernetes on 老柯的學習筆記</description>
    <generator>Hugo</generator>
    <language>en</language>
    <lastBuildDate>Mon, 18 Nov 2024 14:50:24 +0800</lastBuildDate>
    <atom:link href="https://blog.xxzk.me/tags/kubernetes/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>在 Kubernetes 建設 RabbitMQ 使用 RabbitMQ Operator</title>
      <link>https://blog.xxzk.me/post/20241009-rabbit-mq-cluster-k8s-operator/</link>
      <pubDate>Wed, 09 Oct 2024 14:47:52 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20241009-rabbit-mq-cluster-k8s-operator/</guid>
      <description>&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;&#xA;&lt;p&gt;本來託管在 AWS 的 RabbitMQ 因為成本考量只開 single instance，每次 maintenance windows 時 app 都會受到影響。因此決定嘗試在 Kubernetes 上建構 RabbitMQ cluster。&lt;/p&gt;&#xA;&lt;blockquote&gt;&#xA;&lt;p&gt;RabbitMQ 版本: v3.13.7 (fallow operator default) &lt;br&gt;&#xA;Kubernetes (EKS) 版本: v1.30&lt;/p&gt;&#xA;&lt;/blockquote&gt;&#xA;&lt;h2 id=&#34;installing-rabbitmq-cluster-operator-in-a-kubernetes-cluster-refhttpswwwrabbitmqcomkubernetesoperatorinstall-operator&#34;&gt;Installing RabbitMQ Cluster Operator in a Kubernetes Cluster [&lt;a href=&#34;https://www.rabbitmq.com/kubernetes/operator/install-operator&#34;&gt;ref&lt;/a&gt;]&lt;/h2&gt;&#xA;&lt;p&gt;這個 Operator 負責建立 RabbitMQ Cluster，版本我固定當前最新版 v2.11.0，預設建立的 RabbitMQ 版本是 v3.13.7 (&lt;a href=&#34;https://github.com/rabbitmq/cluster-operator/tree/v2.10.0?tab=readme-ov-file#supported-versions&#34;&gt;ref&lt;/a&gt;)。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Kubernetes Dashboard 安裝筆記</title>
      <link>https://blog.xxzk.me/post/20230613-kubernetes-dashboard-install-note/</link>
      <pubDate>Tue, 13 Jun 2023 15:15:27 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20230613-kubernetes-dashboard-install-note/</guid>
      <description>&lt;h2 id=&#34;介紹&#34;&gt;介紹&lt;/h2&gt;&#xA;&lt;p&gt;這篇筆記會記錄如何從 &lt;a href=&#34;https://github.com/kubernetes-sigs/metrics-server&#34;&gt;metrics server&lt;/a&gt; 開始安裝 &lt;a href=&#34;https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/&#34;&gt;Kubernetes Dashboard&lt;/a&gt;，並且設定 Istio virtual service / gateway，最後產生一組僅有特定 namespace read-only 權限的 token。&lt;/p&gt;&#xA;&lt;p&gt;大部分的使用者可以省去安裝 metrics server 這段，因為自 Kubernetes v1.18 開始 metrics server 已是預設元件。&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKA Note Section 13 Troubleshooting</title>
      <link>https://blog.xxzk.me/post/20220726-cka_note_section_13_troubleshooting/</link>
      <pubDate>Tue, 26 Jul 2022 13:55:27 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20220726-cka_note_section_13_troubleshooting/</guid>
      <description>&lt;h2 id=&#34;235-application-failure&#34;&gt;235. Application Failure&lt;/h2&gt;&#xA;&lt;p&gt;&lt;del&gt;厚，debug 到眼睛快脫窗&lt;/del&gt;&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;先開 App Web 頁面查看錯誤訊息 (不確定正式考試時網頁是不是也設計成顯示錯誤訊息)，判斷可能出問題的地方&lt;/li&gt;&#xA;&lt;li&gt;第一題網頁能開判斷 Web pod + service =&amp;gt; 無問題，&lt;strong&gt;&lt;span style=&#39;color:red&#39;&gt;網頁顯示 &lt;code&gt;-2 Name does not resolve&lt;/code&gt;&lt;/span&gt;&lt;/strong&gt; =&amp;gt; 連不到 DB =&amp;gt; 往 &lt;code&gt;mysql-service&lt;/code&gt; &lt;strong&gt;&lt;span style=&#39;color:blue&#39;&gt;&amp;ldquo;DNS name&amp;rdquo;&lt;/span&gt;&lt;/strong&gt; 查找&lt;/li&gt;&#xA;&lt;li&gt;第二題一樣，網頁顯示 &lt;strong&gt;&lt;span style=&#39;color:red&#39;&gt;&lt;code&gt;111 Connection refused&lt;/code&gt;&lt;/span&gt;&lt;/strong&gt; =&amp;gt; &lt;br&gt;&#xA;(1) 拒絕 =&amp;gt; DB credential 有問題 =&amp;gt; 要嘛在 Web pod env 不然就是 db pod env &lt;br&gt;&#xA;(2) &lt;code&gt;svc&lt;/code&gt; port 號 &lt;code&gt;OR&lt;/code&gt; selector 錯誤 &lt;code&gt;OR&lt;/code&gt; pod 身上 port 錯誤&lt;/li&gt;&#xA;&lt;li&gt;第三題 &lt;strong&gt;&lt;span style=&#39;color:red&#39;&gt;網頁直接打不開啊!&lt;/span&gt;&lt;/strong&gt; =&amp;gt; 等待時間先去查 web svc =&amp;gt; &lt;code&gt;curl http://&amp;lt;svc_IP&amp;gt;:&amp;lt;port&amp;gt;&lt;/code&gt;&#xA;(1) 後來噴出 504 Gateway Error =&amp;gt; 5xx 系列 server 內部問題 =&amp;gt; 都要查! (&lt;strong&gt;包含 web svc&lt;/strong&gt;) &lt;del&gt;槓&lt;/del&gt;&#xA;(2) &lt;code&gt;k get all -o wide&lt;/code&gt; 先看一下能不能看出端倪，果然看到 &lt;code&gt;selector:name=sql00001&lt;/code&gt; =&amp;gt; &lt;code&gt;k get pod mysql --show-labels&lt;/code&gt;&lt;/li&gt;&#xA;&lt;li&gt;第四題 env &lt;code&gt;DB_User&lt;/code&gt; 不符合題目要求。&lt;/li&gt;&#xA;&lt;li&gt;第五題 兩個 issue，第一個承上題。&lt;strong&gt;&lt;span style=&#39;color:blue&#39;&gt;&lt;code&gt;Access denied for user &#39;root&#39;@&#39;10.42.0.20&#39; (using password: YES)&lt;/code&gt; =&amp;gt; 這 error 是 DB 噴的代表 DB svc 沒問題&lt;/span&gt;&lt;/strong&gt;&lt;/li&gt;&#xA;&lt;li&gt;第六題 三個 issue &lt;br&gt;&#xA;(1) &lt;code&gt;web-service&lt;/code&gt; &lt;code&gt;NodePort&lt;/code&gt; 錯誤 &lt;br&gt;&#xA;(2) env &lt;code&gt;DB_User&lt;/code&gt; 錯誤&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;&lt;img src=&#34;kubectl_show_svc_ports.jpg&#34; alt=&#34;kubectl_show_svc_ports&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKA Note Section 11 Install K8s the kubeadm way</title>
      <link>https://blog.xxzk.me/post/20220721-cka_note_section_11_install_k8s_the_kubeadm_way/</link>
      <pubDate>Thu, 21 Jul 2022 13:53:58 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20220721-cka_note_section_11_install_k8s_the_kubeadm_way/</guid>
      <description>&lt;h2 id=&#34;225-important-update-kubernetes-the-hard-way&#34;&gt;225. Important Update: Kubernetes the Hard Way&lt;/h2&gt;&#xA;&lt;p&gt;這個章節其實是 Section 10 的最後一個 lecture，不過我想擺在這裡應該會比較合適!&lt;br&gt;&#xA;講師提供一系列 Youtube 影片來示範如何像個硬漢一樣 &lt;a href=&#34;https://www.youtube.com/watch?v=uUupRagM7m0&amp;amp;list=PL2We04F3Y_41jYdadX55fdJplDvgNGENo&#34;&gt;Install Kubernetes from Scratch&lt;/a&gt; 課程中所有範例可以在  &lt;a href=&#34;https://github.com/mmumshad/kubernetes-the-hard-way&#34;&gt;mmumshad / kubernetes-the-hard-way &lt;/a&gt; 找到。&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKA Note Section 10 Design and Install a Kubernetes Cluster</title>
      <link>https://blog.xxzk.me/post/20220719-cka_note_section_10_design_and_install_a_kubernetes_cluster/</link>
      <pubDate>Tue, 19 Jul 2022 14:43:27 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20220719-cka_note_section_10_design_and_install_a_kubernetes_cluster/</guid>
      <description>&lt;h2 id=&#34;222-choosing-kubernetes-infrastructure&#34;&gt;222. Choosing Kubernetes Infrastructure&lt;/h2&gt;&#xA;&lt;p&gt;這個章節在講如何選擇 K8s 建在哪裡，知道了一個蠻有趣的名詞 &lt;a href=&#34;https://kubernetes.io/docs/setup/production-environment/turnkey-solutions/&#34;&gt;Kubernetes Turnkey Cloud Solutions&lt;/a&gt;&lt;/p&gt;&#xA;&lt;h2 id=&#34;223-configure-high-availability&#34;&gt;223. Configure High Availability&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;api_server_ha_0.jpg&#34; alt=&#34;api_server_ha_0&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;▲ &lt;code&gt;api-server&lt;/code&gt; 可以是 Active-Active mode，不過 &lt;code&gt;kubectl&lt;/code&gt; config 一次只能設定一個 URL，所以建議在前面放一個 load blancer&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKA Note Section 9 Networking</title>
      <link>https://blog.xxzk.me/post/20220704-cka_note_section_9_networking/</link>
      <pubDate>Mon, 04 Jul 2022 13:58:19 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20220704-cka_note_section_9_networking/</guid>
      <description>&lt;h2 id=&#34;前言&#34;&gt;前言&lt;/h2&gt;&#xA;&lt;p&gt;既然這個章節是介紹 Kubernetes Networking 那就先來複習一下之前看過的優質文章吧!&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://www.hwchiu.com/docker-network-model.html&#34;&gt;[Hwchiu Docker Network - 網路模型 系列] Docker Network - 網路模型&lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://ithelp.ithome.com.tw/articles/10220626&#34;&gt;[Day10] Container Network Interface 介紹&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;188-prerequisite---network-namespaces&#34;&gt;188. Prerequisite - Network Namespaces&lt;/h2&gt;&#xA;&lt;p&gt;&lt;img src=&#34;list_link_as_ns.jpg&#34; alt=&#34;list_link_as_ns&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;▲ 使用 &lt;code&gt;ip netns exec &amp;lt;NAMESPACE&amp;gt; ip link&lt;/code&gt; 能以 &lt;code&gt;&amp;lt;NAMESPACE&amp;gt;&lt;/code&gt; 的視角查看，&lt;strong&gt;&lt;span style=&#39;color:blue&#39;&gt;或者更快的 &lt;code&gt;ip -n &amp;lt;NAMESPACE&amp;gt; link&lt;/code&gt;&lt;/span&gt;&lt;/strong&gt;。&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKA Note Section 8 Storage</title>
      <link>https://blog.xxzk.me/post/20220704-cka_note_section_8_storage/</link>
      <pubDate>Mon, 04 Jul 2022 09:50:26 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20220704-cka_note_section_8_storage/</guid>
      <description>&lt;h2 id=&#34;169-storage-in-docker&#34;&gt;169. Storage in Docker&lt;/h2&gt;&#xA;&lt;p&gt;這個章節主要在講 Docker container image/volume 的概念，可以參考我之前打的兩篇文章:&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://blog.xxzk.me/post/20210608-intro_docker_image/&#34;&gt;Docker Image 介紹 &lt;/a&gt;&lt;/li&gt;&#xA;&lt;li&gt;&lt;a href=&#34;https://blog.xxzk.me/post/20210513-intro_docker_volume/&#34;&gt;Docker Volumes 介紹&lt;/a&gt;&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;h2 id=&#34;171-container-storage-interface-csi&#34;&gt;171. Container Storage Interface (CSI)&lt;/h2&gt;&#xA;&lt;p&gt;關於 CRI 的介紹非常推薦 Hwchiu 鐵人賽系列: &lt;a href=&#34;https://ithelp.ithome.com.tw/articles/10218127&#34;&gt;[Day5] Kubernetes &amp;amp; CRI (Container Runtime Interface)(I) &lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;&lt;img src=&#34;three_interface_in_k8s.jpg&#34; alt=&#34;three_interface_in_k8s&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKA Note Section 7 Security</title>
      <link>https://blog.xxzk.me/post/20211222-cka_note_section_7_security/</link>
      <pubDate>Wed, 22 Dec 2021 13:53:04 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20211222-cka_note_section_7_security/</guid>
      <description>&lt;h2 id=&#34;135-authentication&#34;&gt;135. Authentication&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;請參考 &lt;a href=&#34;https://github.com/xxzk/CKAD_Note_Section_9_Updates_for_Sep_2021_Changes/blob/master/CKAD%20Note%20Section%209%20Updates%20for%20Sep%202021.md#121-authentication-authorization-and-admission-control&#34;&gt;CKAD Note Section 9 Updates for Sep 2021 Changes - 121. Authentication, Authorization and Admission Control&lt;/a&gt;&lt;/p&gt;&#xA;&lt;br&gt;&#xA;&lt;h2 id=&#34;139-tls-in-kubernetes&#34;&gt;139. TLS in Kubernetes&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;&lt;img src=&#34;tls_communication_diagram.jpg&#34; alt=&#34;tls_communication_diagram&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;▲ 各個 K8s component 的 TLS community diagram。&lt;/p&gt;&#xA;&lt;p&gt;&lt;strong&gt;&lt;span style=&#39;color:blue&#39;&gt;因為現在大部分 kube-proxy 都不是單獨安裝，已經變成 daemondset，所以官方 docs 才沒有找到關於它的 certificate。在這個情況下可以用 &lt;code&gt;serviceaccount&lt;/code&gt; 與 &lt;code&gt;secret&lt;/code&gt; 傳入 daemondset 來達成需求。(謝謝 hwchiu)&lt;/span&gt;&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKA Note Section 6 Cluster Maintence</title>
      <link>https://blog.xxzk.me/post/20211126-cka_note_section_6_cluster_maintence/</link>
      <pubDate>Fri, 26 Nov 2021 11:24:39 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20211126-cka_note_section_6_cluster_maintence/</guid>
      <description>&lt;h2 id=&#34;117-os-upgrades&#34;&gt;117. OS Upgrades&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;如果我們要將某個 worder node 下線，做一些例行維護 (例如: OS Upgrade) 可以使用&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;&#xA;&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1&#xA;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&#xA;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl drain &amp;lt;node_name&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;來達成，原本在目標 worker node 的 &lt;code&gt;pod&lt;/code&gt; 會被 re-schedule 到其它 worker node 上面。當維護完成再使用&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;&#xA;&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt;1&#xA;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&#xA;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;kubectl uncorden &amp;lt;node_name&amp;gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;來告訴 master node 我好了，可以把 &lt;code&gt;pod&lt;/code&gt; 繼續 schedule 到我身上囉! &lt;strong&gt;&lt;span style=&#39;color:red&#39;&gt;被調度出去的 &lt;code&gt;pod&lt;/code&gt; 不會恢復回來。&lt;/span&gt;&lt;/strong&gt;&lt;br&gt;&#xA;如果單純要讓 master node 不要把 &lt;code&gt;pod&lt;/code&gt; 調度過來 (mark as unschedulable) 的話則可以使用。&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKA Note Section 5 App Lifecycle Management</title>
      <link>https://blog.xxzk.me/post/20211125-cka_note_section_5_app_lifecycle_management/</link>
      <pubDate>Thu, 25 Nov 2021 16:55:33 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20211125-cka_note_section_5_app_lifecycle_management/</guid>
      <description>&lt;h2 id=&#34;89-rolling-updates-and-rollbacks&#34;&gt;89. Rolling Updates and Rollbacks&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;請參考 CKAD Note Section 6 Pod Design &lt;code&gt;82. Rolling Updates &amp;amp; Rollbacks in Deployments&lt;/code&gt;。&lt;/p&gt;&#xA;&lt;br&gt;&#xA;&lt;h2 id=&#34;93-commands&#34;&gt;93. Commands&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;請參考 CKAD Note Section 3 Configuration &lt;code&gt;37. [Pre-Request] Commands and Arguments in Docker&lt;/code&gt;。&lt;/p&gt;&#xA;&lt;br&gt;&#xA;&lt;h2 id=&#34;97-configure-environment-variables-in-applications&#34;&gt;97. Configure Environment Variables in Applications&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;請參考 CKAD Note Section 3 Configuration &lt;code&gt;42. Enviroment Variables&lt;/code&gt;。&lt;/p&gt;&#xA;&lt;br&gt;&#xA;&lt;h2 id=&#34;98-configuring-configmaps-in-applications&#34;&gt;98. Configuring ConfigMaps in Applications&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;請參考 CKAD Note Section 3 Configuration &lt;code&gt;42. Enviroment Variables&lt;/code&gt;。&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKA Note Section 4 Logging and Monitoring</title>
      <link>https://blog.xxzk.me/post/20211125-cka_note_section_4_logging_and_monitoring/</link>
      <pubDate>Thu, 25 Nov 2021 16:03:41 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20211125-cka_note_section_4_logging_and_monitoring/</guid>
      <description>&lt;br&gt;&#xA;&lt;p&gt;請參考 CKAD Note Section 5 Observability  &lt;code&gt;76. Monitor and Debug Application&lt;/code&gt; 章節。&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKA Note Section 3 Scheduling</title>
      <link>https://blog.xxzk.me/post/20211124-cka_note_section_3_scheduling/</link>
      <pubDate>Wed, 24 Nov 2021 15:03:28 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20211124-cka_note_section_3_scheduling/</guid>
      <description>&lt;h2 id=&#34;50-manual-scheduling&#34;&gt;50. Manual Scheduling&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;在 &lt;strong&gt;有&lt;/strong&gt; &lt;code&gt;kube-scheduler&lt;/code&gt; 的情況下，我們可以在 &lt;code&gt;pod&lt;/code&gt; definition YAML 裡面定義 &lt;code&gt;pod.spec.nodeName: &amp;lt;worker node name&amp;gt;&lt;/code&gt; 來把 &lt;code&gt;pod&lt;/code&gt; 放在指定 worker node。&lt;br&gt;&#xA;在 &lt;strong&gt;沒有&lt;/strong&gt; &lt;code&gt;kube-scheduler&lt;/code&gt; 的情況下，必須要以 &lt;code&gt;json&lt;/code&gt; 格式 POST 到 &lt;code&gt;api-server&lt;/code&gt;。BTW，我找不到 docs 耶 = =&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKA Note Section 2 Core Concepts</title>
      <link>https://blog.xxzk.me/post/20211123-cka_note_section_2_core_concepts/</link>
      <pubDate>Tue, 23 Nov 2021 14:00:06 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20211123-cka_note_section_2_core_concepts/</guid>
      <description>&lt;h2 id=&#34;10-cluster-architecture&#34;&gt;10. Cluster Architecture&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;&lt;img src=&#34;k8s_arch.jpg&#34; alt=&#34;k8s_arch&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;▲ Kubernetes controll plane / worker node 組件&lt;/p&gt;&#xA;&lt;br&gt;&#xA;&lt;h2 id=&#34;12-etcd-in-kubernetes&#34;&gt;12. ETCD in Kubernetes&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;透過 &lt;code&gt;kubectl get&lt;/code&gt; 都是 (透過 &lt;code&gt;api-server&lt;/code&gt; ) 向 etcd 查詢資料。&lt;/li&gt;&#xA;&lt;li&gt;講師提供的練習環境是使用 &lt;code&gt;kubeadm&lt;/code&gt; 搭建的，課程最後的章節會教導如何從 scratch 建立 Kubernetes cluster。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;&lt;img src=&#34;etcd_manual_install_0.jpg&#34; alt=&#34;etcd_manual_install_0&#34;&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKAD Note Section 9 Updates for Sep 2021 Changes</title>
      <link>https://blog.xxzk.me/post/20211110-ckad-note-section-9-updates-for-sep-2021-changes/</link>
      <pubDate>Wed, 10 Nov 2021 11:05:08 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20211110-ckad-note-section-9-updates-for-sep-2021-changes/</guid>
      <description>&lt;br&gt;&#xA;&lt;p&gt;&lt;img src=&#34;CKAD_20210928_change.jpg&#34; alt=&#34;CKAD_20210928_change&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;▲ CKAD 新舊版差異&lt;/p&gt;&#xA;&lt;br&gt;&#xA;&lt;h2 id=&#34;119-define-build-and-modify-container-images&#34;&gt;119. Define, build and modify container images&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;非常基礎的 Docker Image (container image) 介紹，我之前就打過一篇在公司 Bookstack 了~&lt;br&gt;&#xA;《Docker Image 介紹》&lt;/p&gt;&#xA;&lt;h3 id=&#34;使用-docker-與-podman&#34;&gt;使用 &lt;code&gt;docker&lt;/code&gt; 與 &lt;code&gt;podman&lt;/code&gt;&lt;/h3&gt;&#xA;&lt;p&gt;大部分情況 &lt;code&gt;docker&lt;/code&gt; 與 &lt;code&gt;podman&lt;/code&gt; syntax 很接近~&lt;/p&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;&#xA;&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;14&#xA;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&#xA;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## docker multi tags&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;sudo docker build -t registry.killer.sh:5000/sun-cipher:latest -t registry.killer.sh:5000/sun-cipher:v1-docker .&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## pod man build image&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;podman build -t registry.killer.sh:5000/sun-cipher:v1-podman .&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## podman run container&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;podman run -d --name sun-cipher registry.killer.sh:5000/sun-cipher:v1-podman&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## podman show process&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;podman ps&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;c1&#34;&gt;## podman logs&lt;/span&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;podman logs sun-cipher&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;br&gt;&#xA;&lt;br&gt;&#xA;&lt;h2 id=&#34;121-authentication-authorization-and-admission-control&#34;&gt;121. Authentication, Authorization and Admission Control&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;除了 master,worker node 本身的安全機制 (例如: SSH public key ONLY) 以外&lt;br&gt;&#xA;&lt;code&gt;kube-apiserver&lt;/code&gt; 在 K8s cluster 當中扮演非常關鍵的角色必須要被嚴格控管，接下來的章節會介紹 How to&lt;br&gt;&#xA;一開始我們先來探討一下 &lt;strong&gt;Who can access?&lt;/strong&gt; 與 &lt;strong&gt;What can they do?&lt;/strong&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKAD Note Section 8 State Persistence</title>
      <link>https://blog.xxzk.me/post/20211105-ckad-note-section-8-state-persistence/</link>
      <pubDate>Fri, 05 Nov 2021 20:54:44 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20211105-ckad-note-section-8-state-persistence/</guid>
      <description>&lt;h2 id=&#34;105-volumes&#34;&gt;105. Volumes&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;h3 id=&#34;hostpath&#34;&gt;hostPath&lt;/h3&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;這個範例 mount worker-node 的 &lt;code&gt;/data&lt;/code&gt; 進 &lt;code&gt;pod&lt;/code&gt; 裡面，並且 mapping 到 container 裡面的 &lt;code&gt;/test-pd&lt;/code&gt;。&lt;br&gt;&#xA;實際上我們並不會這樣做，因為 worker-node 之間的資料並沒辦法同步，一般來說會使用 shared storage 例如: NFS, ClusterFS, Ceph, AWS EBS, AzureDisk &amp;hellip;.&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKAD Note Section 7 Service and Networking</title>
      <link>https://blog.xxzk.me/post/20211104-ckad-note-section-7-service-and-networking/</link>
      <pubDate>Thu, 04 Nov 2021 11:32:23 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20211104-ckad-note-section-7-service-and-networking/</guid>
      <description>&lt;h2 id=&#34;90-service&#34;&gt;90. Service&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;&lt;img src=&#34;serivce_0.jpg&#34; alt=&#34;serivce_0&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;▲ NodePort type 的 &lt;code&gt;service&lt;/code&gt;&lt;/p&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;&lt;img src=&#34;service_type.jpg&#34; alt=&#34;service_type&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;▲ &lt;code&gt;service&lt;/code&gt; 的種類: NodePort, Cluster IP, LoadBlance&lt;/p&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;&lt;img src=&#34;nodeport_0.jpg&#34; alt=&#34;nodeport_0&#34;&gt;&lt;/p&gt;&#xA;&lt;p&gt;▲ NodePort 總共有三個 port number 分別是: node-port, port, target-port&lt;/p&gt;&#xA;&lt;br&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;NodePort range: 30000~32767 (option)。&lt;/li&gt;&#xA;&lt;li&gt;如果沒有給定 targetPort，預設 &lt;code&gt;port == targetPort&lt;/code&gt;。&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;br&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;&#xA;&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12&#xA;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&#xA;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;v1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Service&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;my-service&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;type&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;NodePort&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;selector&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;MyApp&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;port&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;nodePort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;30007&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;      &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;targetPort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;9376&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;br&gt;&#xA;&lt;p&gt;NodePort &lt;code&gt;service&lt;/code&gt; 使用 &lt;code&gt;selector&lt;/code&gt; 來決定要將流量導向到哪些 &lt;code&gt;pod&lt;/code&gt; 身上。&lt;br&gt;&#xA;P.S 這邊先偷吃步給一個簡單的方法:&lt;br&gt;&#xA;&lt;code&gt;kubectl expose deployment nginx-rollout --port=80 --target-port=80&lt;/code&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKAD Note Section 6 Pod Design</title>
      <link>https://blog.xxzk.me/post/20211102-ckad-note-section-6-pod-design/</link>
      <pubDate>Tue, 02 Nov 2021 13:56:46 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20211102-ckad-note-section-6-pod-design/</guid>
      <description>&lt;h2 id=&#34;79-labels-selectors-and-annotations&#34;&gt;79. Labels, Selectors and Annotations&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;div class=&#34;highlight&#34;&gt;&lt;div class=&#34;chroma&#34;&gt;&#xA;&lt;table class=&#34;lntable&#34;&gt;&lt;tr&gt;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code&gt;&lt;span class=&#34;lnt&#34;&gt; 1&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 2&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 3&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 4&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 5&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 6&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 7&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 8&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt; 9&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;10&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;11&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;12&#xA;&lt;/span&gt;&lt;span class=&#34;lnt&#34;&gt;13&#xA;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&#xA;&lt;td class=&#34;lntd&#34;&gt;&#xA;&lt;pre tabindex=&#34;0&#34; class=&#34;chroma&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;nt&#34;&gt;apiVersion&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;v1&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;kind&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;Pod&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;metadata&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;label-demo&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;labels&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;environment&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;production&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;app&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nginx&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;&lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;spec&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;containers&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;  &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;name&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nginx&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;image&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;l&#34;&gt;nginx:1.14.2&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;&lt;span class=&#34;nt&#34;&gt;ports&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;cl&#34;&gt;&lt;span class=&#34;w&#34;&gt;    &lt;/span&gt;- &lt;span class=&#34;nt&#34;&gt;containerPort&lt;/span&gt;&lt;span class=&#34;p&#34;&gt;:&lt;/span&gt;&lt;span class=&#34;w&#34;&gt; &lt;/span&gt;&lt;span class=&#34;m&#34;&gt;80&lt;/span&gt;&lt;span class=&#34;w&#34;&gt;&#xA;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&#xA;&lt;/div&gt;&#xA;&lt;/div&gt;&lt;p&gt;我們可以在 kubernetes object 上貼上標籤 (labels) 用於分類。使用 &lt;code&gt;kubectl get pod --selector &amp;lt;key&amp;gt;=&amp;lt;value&amp;gt;&lt;/code&gt; 可以篩選。&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKAD Note Section 5 Observability</title>
      <link>https://blog.xxzk.me/post/20211027-ckad-note-section-5-observability/</link>
      <pubDate>Wed, 27 Oct 2021 16:52:37 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20211027-ckad-note-section-5-observability/</guid>
      <description>&lt;h2 id=&#34;70-readiness-and-liveness-probes&#34;&gt;70. Readiness and Liveness Probes&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;h3 id=&#34;readiness-probes&#34;&gt;Readiness Probes&lt;/h3&gt;&#xA;&lt;p&gt;透過前面的章節我們可以得知 &lt;code&gt;Pod&lt;/code&gt; 具有狀態 (status) 與 條件 (condition)，前者顯示 lifecycle 階段 (pending, containerCreating, running)&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;pending: scheduler 正在安排 &lt;code&gt;pod&lt;/code&gt; 到 worker-node 上，或者有問題 (&lt;code&gt;kubectl describe&lt;/code&gt; 可以查)&lt;/li&gt;&#xA;&lt;li&gt;containerCreating: &lt;code&gt;pod&lt;/code&gt; 已經被放在 worker-node 上，正在建立容器&lt;/li&gt;&#xA;&lt;li&gt;running: 執行中&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;Condition 的部分就有點類似細項，透過 &lt;code&gt;kubectl describe&lt;/code&gt; 可以觀察。&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKAD Note Section 3 Configuration</title>
      <link>https://blog.xxzk.me/post/20210730-ckad-note-section-3-configuration/</link>
      <pubDate>Fri, 30 Jul 2021 11:29:19 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20210730-ckad-note-section-3-configuration/</guid>
      <description>&lt;br&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;37-pre-request-commands-and-arguments-in-docker&#34;&gt;37. [Pre-Request] Commands and Arguments in Docker&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;課程一開始就先來複習 &lt;code&gt;Docker File&lt;/code&gt; 當中的 &lt;code&gt;CMD&lt;/code&gt; 與 &lt;code&gt;ENTRYPOINT&lt;/code&gt;，雖然講師說不在 CKAD 的考試範圍，不過 &lt;a href=&#34;https://training.linuxfoundation.org/ckad-program-change-2021/&#34;&gt;CKAD-2021 (即將在 2021 Q3 改版)&lt;/a&gt; 看起來是有被納入的喔~&lt;/p&gt;</description>
    </item>
    <item>
      <title>CKAD Note Section 1 Introduction</title>
      <link>https://blog.xxzk.me/post/20210727-ckad-note-section-1-introduction/</link>
      <pubDate>Tue, 27 Jul 2021 09:33:08 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20210727-ckad-note-section-1-introduction/</guid>
      <description>&lt;br&gt;&#xA;&lt;h2 id=&#34;kubernetes-series&#34;&gt;Kubernetes Series&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;作者的系列課程總共有三個，分別適合不同職位的三種人。&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;Absolute Beginners (零經驗初學者，帶你從 container 開始)&lt;/li&gt;&#xA;&lt;li&gt;sysAdmin (想要通過 CKAD)&lt;/li&gt;&#xA;&lt;li&gt;Application Developer (程式開發人員)&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;&lt;img src=&#34;ckad_three_courses.jpg&#34; alt=&#34;ckad_three_courses&#34;&gt;&lt;/p&gt;&#xA;&lt;br&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;certification-details&#34;&gt;Certification Details&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;這邊告知 CKAD 考試的方式 (非選擇題、線上考試、會有監考官、考試時間 2 小時，可以向監考官申請暫停去上廁所之類的)&lt;/p&gt;</description>
    </item>
    <item>
      <title>minikube 安裝指南。 一個精簡、測試環境使用的 k8s 叢集</title>
      <link>https://blog.xxzk.me/post/20210617-minikube-installation/</link>
      <pubDate>Thu, 17 Jun 2021 09:29:55 +0000</pubDate>
      <guid>https://blog.xxzk.me/post/20210617-minikube-installation/</guid>
      <description>&lt;center&gt;&#xA;&lt;img src=&#34;https://github.com/kubernetes/minikube/raw/master/images/logo/logo.png&#34; width=&#34;300&#34; alt=&#34;minikube logo&#34;&gt;&#xA;&lt;/center&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;&lt;strong&gt;minikube 能夠快速在本地 (local) 建立 kubernetes cluster (k8s 叢集)，支援 macOS, Linux, Windows&lt;/strong&gt;&lt;br&gt;&#xA;&lt;strong&gt;非常適合新手探索 kubernetes&lt;/strong&gt;&lt;/p&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;安裝需求-pre-requirement&#34;&gt;安裝需求 pre-requirement&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://minikube.sigs.k8s.io/docs/drivers/&#34;&gt;minikube-Driver&lt;/a&gt;&lt;/p&gt;&#xA;&lt;p&gt;▲ 官方有列出各類型 OS 建議搭建在何種虛擬環境上。本篇筆記選用 &lt;code&gt;CentOS 7.9.2009&lt;/code&gt; + &lt;code&gt;Docker&lt;/code&gt;&lt;/p&gt;&#xA;&lt;br&gt;&#xA;&lt;h3 id=&#34;最小硬體需求&#34;&gt;最小硬體需求&lt;/h3&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;雙核心 2 (CPUs or more)\&lt;/li&gt;&#xA;&lt;li&gt;記憶體 2 GB (2 GB of free memory)\&lt;/li&gt;&#xA;&lt;li&gt;硬碟空間 20 GB (20GB of free disk space)\&lt;/li&gt;&#xA;&lt;li&gt;連上外部網路 (Internet connection)&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;br&gt;&#xA;&lt;hr&gt;&#xA;&lt;h2 id=&#34;安裝&#34;&gt;安裝&lt;/h2&gt;&#xA;&lt;br&gt;&#xA;&lt;p&gt;&lt;a href=&#34;https://minikube.sigs.k8s.io/docs/start/&#34;&gt;minikube start&lt;/a&gt;&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
